%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%`packages/colab.sty` contains macros and commands for authors to leave comments. It provides a quick way to hide all the comments when you are ready to submit or if you want to see the true length of the paper. To hide all the comments and annotations, uncomment the `%\readytosubmit` line in `packages/colab.sty`. Note that when commented, i.e., not ready to submit, in addition to the comments being visible in the pdf, the margins of the pdf will also be relaxed to accommodate the comments. If you are using this file as a drop-in in some other latex project, the relaxation of margin might raise errors or give warnings. For example, the ICML template raises errors when the margins are relaxed. You should not worry about these error. They will disappear when you uncomment the `%\readytosubmit` line.
%
%
%Each author gets their own color. There are three commands defined for three authors. I suggest naming the commands using the initials of the authors. Modify the following lines to change the initials:
%
%```
%% Commands for people to comment
%\newcommand{\dnp}[1]{\ifsubmissionready\else\todo[color=red]{{\textbf{DP: }#1}}\fi}
%\newcommand{\vp}[1]{\ifsubmissionready\else\todo[color=magenta]{{\textbf{VP: }#1}}\fi}
%\newcommand{\kc}[1]{\ifsubmissionready\else\todo[color=lightgreen]{{\textbf{KC: }#1}}\fi}
%```
%
%You may use `\dnp{}`, etc. to leave comments in the form of todo notes.
%Additionally, there is a common `\TODO{}` command as well, which can be used by anyone.
%
%1. `\TODO{}`: Common TODO note that can be used by anyone.
%2. `\sout{}`: Stands for "strike out". Use this to mark text that you think should be removed. In the submission ready version, the marked text will not be visible.
%3. `\Comment{}`: Use this to leave an inline (not a todo note comment) comment in red color. This will not be visible in the submission ready version.
%4. `\na{}`: Usually used in combination with `\sout{}`, like `\sout{something to remove}\na{something added in its place}` to highlight, in green, the new text added. The green color will not be visible in the submission ready version.
%5. `\mr{}`: Stands for "maybe remove". It is a suggestion to remove some text. The text will be highlighted in gray. The text will not be removed in the submission ready version, and will appear as normal text. This is a milder version of `\sout{}`, which removes the text in the submission ready version.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[colorinlistoftodos,textsize=tiny]{todonotes}
%-----------------------Extra commands for collaboration-----------------
\usepackage[normalem]{ulem}
\newif\ifsubmissionready
\submissionreadyfalse
\def\readytosubmit{\global\submissionreadytrue}

%\readytosubmit % Uncomment this to hide comments and annotations before submitting

\definecolor{blue}{RGB}{0, 93, 170}			%Go Big Blue!
\definecolor{darkgreen}{RGB}{0, 102, 0}
\definecolor{lightskyblue}{rgb}{0.53, 0.81, 0.98}
\definecolor{lightgreen}{rgb}{0.56, 0.93, 0.56}
\definecolor{palegoldenrod}{rgb}{0.93, 0.91, 0.67}
\newcommand{\points}[1]{\ifsubmissionready\else{\textbf{Points: }\color{darkgreen}#1}\fi}
% relax margins for todonotes
\ifsubmissionready\else\paperwidth=\dimexpr \paperwidth + 6cm\relax\fi
\ifsubmissionready\else\oddsidemargin=\dimexpr\oddsidemargin + 3cm\relax\fi
\ifsubmissionready\else\evensidemargin=\dimexpr\evensidemargin + 3cm\relax\fi
\ifsubmissionready\else\marginparwidth=\dimexpr \marginparwidth + 3cm\relax\fi

% Commands for people to comment
\newcommand{\dnp}[1]{\ifsubmissionready\else\todo[color=red]{{\textbf{DP: }#1}}\fi}
\newcommand{\vp}[1]{\ifsubmissionready\else\todo[color=magenta]{{\textbf{VP: }#1}}\fi}
\newcommand{\kc}[1]{\ifsubmissionready\else\todo[color=lightgreen]{{\textbf{KC: }#1}}\fi}

% common todo command
\newcommand{\TODO}[1]{\ifsubmissionready\else\todo[color=lightskyblue]{\textbf{TODO:} \textit{#1}}\fi}
% inline comment
\newcommand{\Comment}[1]{\textcolor{red}{\textit{#1}}}

% command to highligh changes. Kept for submission
\newcommand{\na}[1]{\ifsubmissionready#1\else\textcolor{darkgreen}{#1}\fi}

% command to suggest removal
\newcommand{\mr}[1]{\ifsubmissionready#1\else\textcolor{gray}{#1}\fi}
\newcommand{\Hide}[1]{}
\let\oldsout\sout
\renewcommand{\sout}[1]{\ifsubmissionready\else\oldsout{#1}\fi}
